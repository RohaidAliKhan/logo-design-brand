window.Modernizr=function(t,e,i){function n(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var n in t){var r=t[n];if(!s(r,"-")&&h[r]!==i)return"pfx"!=e||r}return!1}function o(t,e,s){var o=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+y.join(o+" ")+o).split(" ");return n(e,"string")||n(e,"undefined")?r(a,e):function(t,e,s){for(var r in t){var o=e[t[r]];if(o!==i)return!1===s?t[r]:n(o,"function")?o.bind(s||e):o}return!1}(a=(t+" "+v.join(o+" ")+o).split(" "),e,s)}var a,l,u={},f=e.documentElement,c="modernizr",d=e.createElement(c),h=d.style,p=" -webkit- -moz- -o- -ms- ".split(" "),m="Webkit Moz O ms",y=m.split(" "),v=m.toLowerCase().split(" "),g={},$=[],C=$.slice,_=function(t,i,n,s){var r,o,a,l,u=e.createElement("div"),d=e.body,h=d||e.createElement("body");if(parseInt(n,10))for(;n--;)(a=e.createElement("div")).id=s?s[n]:c+(n+1),u.appendChild(a);return r=["&#173;",'<style id="s',c,'">',t,"</style>"].join(""),u.id=c,(d?u:h).innerHTML+=r,h.appendChild(u),d||(h.style.background="",h.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(h)),o=i(u,t),d?u.parentNode.removeChild(u):(h.parentNode.removeChild(h),f.style.overflow=l),!!o},b={}.hasOwnProperty;for(var x in l=n(b,"undefined")||n(b.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(t,e){return b.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw TypeError();var i=C.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var r=new s,o=e.apply(r,i.concat(C.call(arguments)));return Object(o)===o?o:r}return e.apply(t,i.concat(C.call(arguments)))};return n}),g.csstransforms=function(){return!!o("transform")},g.csstransforms3d=function(){var t=!!o("perspective");return t&&"webkitPerspective"in f.style&&_("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,i){t=9===e.offsetLeft&&3===e.offsetHeight}),t},g.csstransitions=function(){return o("transition")},g)l(g,x)&&(u[a=x.toLowerCase()]=g[x](),$.push((u[a]?"":"no-")+a));return u.addTest=function(t,e){if("object"==typeof t)for(var n in t)l(t,n)&&u.addTest(n,t[n]);else{if(u[t=t.toLowerCase()]!==i)return u;e="function"==typeof e?e():e,f.className+=" "+(e?"":"no-")+t,u[t]=e}return u},h.cssText="",d=null,u._version="2.6.2",u._prefixes=p,u._domPrefixes=v,u._cssomPrefixes=y,u.testProp=function(t){return r([t])},u.testAllProps=o,u.testStyles=_,u.prefixed=function(t,e,i){return e?o(t,e,i):o(t,"pfx")},f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+$.join(" "),u}(this,this.document),function(t,e){var i,n=t.jQuery||t.Cowboy||(t.Cowboy={});n.throttle=i=function(t,i,s,r){var o,a=0;function l(){var n=this,l=+new Date-a,u=arguments;function f(){a=+new Date,s.apply(n,u)}r&&!o&&f(),o&&clearTimeout(o),r===e&&l>t?f():!0!==i&&(o=setTimeout(r?function(){o=e}:f,r===e?t-l:t))}return"boolean"!=typeof i&&(r=s,s=i,i=e),n.guid&&(l.guid=s.guid=s.guid||n.guid++),l},n.debounce=function(t,n,s){return s===e?i(t,n,!1):i(t,s,!1!==n)}}(this),function(t,e,i){"use strict";t.fn.sorted=function(e){var n=t.extend({},t.fn.sorted.defaults,e),s=this.get(),r=!1;return s.length?n.randomize?t.fn.sorted.randomize(s):(n.by!==t.noop&&null!==n.by&&n.by!==i&&s.sort(function(e,s){if(r)return 0;var o=n.by(t(e)),a=n.by(t(s));return o===i&&a===i?(r=!0,0):"sortFirst"===o||"sortLast"===a?-1:"sortLast"===o||"sortFirst"===a?1:a>o?-1:o>a?1:0}),r?this.get():(n.reverse&&s.reverse(),s)):[]},t.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},t.fn.sorted.randomize=function(t){var e,i,n=t.length;if(!n)return t;for(;--n;)e=t[i=Math.floor(Math.random()*(n+1))],t[i]=t[n],t[n]=e;return t};var n=0,s=function(e,i){var r=this;t.extend(r,s.options,i,s.settings),r.$container=e,r.$window=t(window),r.unique="shuffle_"+n++,r._fire("loading"),r._init(),r._fire("done")};s.prototype={_init:function(){var e,i=this,n=t.proxy(i._onResize,i),s=i.throttle?i.throttle(i.throttleTime,n):n,r=i.initialSort?i.initialSort:null;i._setVars(),i._resetCols(),i._addClasses(),i._initItems(),i.$window.on("resize.shuffle."+i.unique,s),"static"===(e=i.$container.css(["paddingLeft","paddingRight","position","width"])).position&&i.$container.css("position","relative"),i.offset={left:parseInt(e.paddingLeft,10)||0,top:parseInt(e.paddingTop,10)||0},i._setColumns(parseInt(e.width,10)),i.shuffle(i.group,r),i.supported&&setTimeout(function(){i._setTransitions(),i.$container[0].style[i.transitionName]="height "+i.speed+"ms "+i.easing},0)},_addClasses:function(){return this.$container.addClass("shuffle"),this.$items.addClass("shuffle-item filtered"),this},_setVars:function(){var e=this;return e.$items=e._getItems(),e.transitionName=e.prefixed("transition"),e.transitionDelayName=e.prefixed("transitionDelay"),e.transitionDuration=e.prefixed("transitionDuration"),e.transform=e.getPrefixed("transform"),e.transitionend=({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"})[e.transitionName],e.isFluid=e.columnWidth&&"function"==typeof e.columnWidth,0===e.columnWidth&&null!==e.sizer&&(e.columnWidth=e.sizer),"string"==typeof e.columnWidth?e.$sizer=e.$container.find(e.columnWidth):e.columnWidth&&e.columnWidth.nodeType&&1===e.columnWidth.nodeType?e.$sizer=t(e.columnWidth):e.columnWidth&&e.columnWidth.jquery&&(e.$sizer=e.columnWidth),e.$sizer&&e.$sizer.length&&(e.useSizer=!0,e.sizer=e.$sizer[0]),e},_filter:function(e,n){var s=this,r=n!==i?n:s.$items,o=t();return e=e||s.lastFilter,s._fire("filter"),t.isFunction(e)?r.each(function(){var i=t(this);e.call(i[0],i,s)&&(o=o.add(i))}):(s.group=e,"all"!==e?r.each(function(){var i=t(this),n=i.data("groups"),r=s.delimeter&&!t.isArray(n)?n.split(s.delimeter):n;t.inArray(e,r)>-1&&(o=o.add(i))}):o=r),s._toggleFilterClasses(r,o),r=null,n=null,o},_toggleFilterClasses:function(e,i){var n="concealed",s="filtered";e.filter(i).each(function(){var e=t(this);e.hasClass(n)&&e.removeClass(n),e.hasClass(s)||e.addClass(s)}),e.not(i).each(function(){var e=t(this);e.hasClass(n)||e.addClass(n),e.hasClass(s)&&e.removeClass(s)})},_initItems:function(t){return(t=t||this.$items).css(this.itemCss)},_updateItemCount:function(){return this.visibleItems=this.$items.filter(".filtered").length,this},_setTransition:function(t){var e=this;return t.style[e.transitionName]=e.transform+" "+e.speed+"ms "+e.easing+", opacity "+e.speed+"ms "+e.easing,t},_setTransitions:function(t){var e=this;return(t=t||e.$items).each(function(){e._setTransition(this)}),e},_setSequentialDelay:function(e){var i=this;i.supported&&t.each(e,function(e){this.style[i.transitionDelayName]="0ms,"+(e+1)*i.sequentialFadeDelay+"ms",t(this).one(i.transitionend,function(){this.style[i.transitionDelayName]="0ms"})})},_getItems:function(){return this.$container.children(this.itemSelector)},_getPreciseDimension:function(e,i){var n;return parseFloat(window.getComputedStyle?window.getComputedStyle(e,null)[i]:t(e).css(i))},_setColumns:function(t){var e,i=this,n=t||i.$container.width(),s="function"==typeof i.gutterWidth?i.gutterWidth(n):i.useSizer?i._getPreciseDimension(i.sizer,"marginLeft"):i.gutterWidth;i.colWidth=i.isFluid?i.columnWidth(n):i.useSizer?i._getPreciseDimension(i.sizer,"width"):i.columnWidth||i.$items.outerWidth(!0)||n,i.colWidth=i.colWidth||n,i.colWidth+=s,Math.ceil(e=(n+s)/i.colWidth)-e<.01&&(e=Math.ceil(e)),i.cols=Math.floor(e),i.cols=Math.max(i.cols,1),i.containerWidth=n},_setContainerSize:function(){var t=Math.max.apply(Math,this.colYs);this.$container.css("height",t+"px")},_fire:function(t,e){this.$container.trigger(t+".shuffle",e&&e.length?e:[this])},_layout:function(e,i,n,s){var r=this;i=i||r.filterEnd,r.layoutTransitionEnded=!1,t.each(e,function(o){var a=t(e[o]),l=Math.ceil(a.outerWidth(!0)/r.colWidth);if(1===(l=Math.min(l,r.cols)))r._placeItem(a,r.colYs,i,n,s);else{var u,f,c=r.cols+1-l,d=[];for(f=0;c>f;f++)u=r.colYs.slice(f,f+l),d[f]=Math.max.apply(Math,u);r._placeItem(a,d,i,n,s)}}),r._processStyleQueue(),r._setContainerSize()},_resetCols:function(){var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0)},_reLayout:function(t,e){t=t||this.filterEnd,this._resetCols(),this.keepSorted&&this.lastSort?this.sort(this.lastSort,!0,e):this._layout(this.$items.filter(".filtered").get(),this.filterEnd,e)},_placeItem:function(t,e,i,n,s){for(var r=this,o=Math.min.apply(Math,e),a=0,l=0,u=e.length;u>l;l++)if(e[l]>=o-r.buffer&&e[l]<=o+r.buffer){a=l;break}var f=r.colWidth*a,c=o;f=Math.round(f+r.offset.left),c=Math.round(c+r.offset.top),t.data({x:f,y:c});var d=o+t.outerHeight(!0),h=r.cols+1-u;for(l=0;h>l;l++)r.colYs[a+l]=d;var p={from:"layout",$this:t,x:f,y:c,scale:1};n?p.skipTransition=!0:(p.opacity=1,p.callback=i),s&&(p.opacity=0),r.styleQueue.push(p)},_shrink:function(e,i){var n=this,s=e||n.$items.filter(".concealed"),r={},o=i||n.shrinkEnd;s.length&&(n._fire("shrink"),n.shrinkTransitionEnded=!1,s.each(function(){var e=t(this),i=e.data();r={from:"shrink",$this:e,x:i.x,y:i.y,scale:.001,opacity:0,callback:o},n.styleQueue.push(r)}))},_onResize:function(){var t;this.enabled&&!this.destroyed&&this.$container.width()!==this.containerWidth&&this.resized()},setPrefixedCss:function(t,e,i){t.css(this.prefixed(e),i)},getPrefixed:function(t){var e=this.prefixed(t);return e?e.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"):e},transition:function(e){var n,s=this,r=function(){s.layoutTransitionEnded||"layout"!==e.from?s.shrinkTransitionEnded||"shrink"!==e.from||(e.callback.call(s),s.shrinkTransitionEnded=!0):(s._fire("layout"),e.callback.call(s),s.layoutTransitionEnded=!0)};if(e.callback=e.callback||t.noop,s.supported)e.scale===i&&(e.scale=1),n=s.threeD?"translate3d("+e.x+"px, "+e.y+"px, 0) scale3d("+e.scale+", "+e.scale+", 1)":"translate("+e.x+"px, "+e.y+"px) scale("+e.scale+", "+e.scale+")",e.x!==i&&s.setPrefixedCss(e.$this,"transform",n),e.opacity!==i&&e.$this.css("opacity",e.opacity),e.$this.one(s.transitionend,r);else{var o={left:e.x,top:e.y,opacity:e.opacity};e.$this.stop(!0).animate(o,s.speed,"swing",r)}},_processStyleQueue:function(){var e=this,i=e.styleQueue;t.each(i,function(t,i){i.skipTransition?e._skipTransition(i.$this[0],function(){e.transition(i)}):e.transition(i)}),e.styleQueue.length=0},shrinkEnd:function(){this._fire("shrunk")},filterEnd:function(){this._fire("filtered")},sortEnd:function(){this._fire("sorted")},_skipTransition:function(e,i,n){var s=this.transitionDuration,r=e.style[s];e.style[s]="0ms",t.isFunction(i)?i():e.style[i]=n,e.offsetWidth,e.style[s]=r},_addItems:function(t,e,n){var s,r,o=this;o.supported||(e=!1),t.addClass("shuffle-item"),o._initItems(t),o._setTransitions(t),o.$items=o._getItems(),t.css("opacity",0),r=(s=o._filter(i,t)).get(),o._updateItemCount(),e?(o._layout(r,null,!0,!0),n&&o._setSequentialDelay(s),o._revealAppended(s)):o._layout(r)},_revealAppended:function(e){var i=this;setTimeout(function(){e.each(function(e,n){i.transition({from:"reveal",$this:t(n),opacity:1})})},i.revealAppendedDelay)},shuffle:function(t,e){var i=this;i.enabled&&(t||(t="all"),i._filter(t),i.lastFilter=t,i._updateItemCount(),i._resetCols(),i._shrink(),e&&(i.lastSort=e),i._reLayout())},sort:function(t,e,i){var n=this,s=n.$items.filter(".filtered").sorted(t);e||n._resetCols(),n._layout(s,function(){e&&n.filterEnd(),n.sortEnd()},i),n.lastSort=t},resized:function(t){this.enabled&&(t||this._setColumns(),this._reLayout())},layout:function(){this.update(!0)},update:function(t){this.resized(t)},appended:function(t,e,i){e=!1!==e,i=!1!==i,this._addItems(t,e,i)},disable:function(){this.enabled=!1},enable:function(t){this.enabled=!0,!1!==t&&this.update()},remove:function(t){if(t.length&&t.jquery)return this._shrink(t,function(){var e=this;t.remove(),setTimeout(function(){e.$items=e._getItems(),e.layout(),e._updateItemCount(),e._fire("removed",[t,e]),t=null},0)}),this._processStyleQueue(),this},destroy:function(){var t=this;t.$window.off("."+t.unique),t.$container.removeClass("shuffle").removeAttr("style").removeData("shuffle"),t.$items.removeAttr("style").removeClass("concealed filtered shuffle-item"),t.destroyed=!0}},s.options={group:"all",speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:t.throttle||null,throttleTime:300,sequentialFadeDelay:150,supported:e.csstransforms&&e.csstransitions},s.settings={$sizer:null,useSizer:!1,itemCss:{position:"absolute",top:0,left:0},offset:{top:0,left:0},revealAppendedDelay:300,keepSorted:!0,enabled:!0,destroyed:!1,styleQueue:[],prefixed:e.prefixed,threeD:e.csstransforms3d},t.fn.shuffle=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),r=n.data("shuffle");r||(r=new s(n,e),n.data("shuffle",r)),"string"==typeof e&&r[e]&&r[e].apply(r,i)})}}(jQuery,Modernizr);